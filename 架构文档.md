# Hugo Theme Stack é™æ€ç½‘ç«™æ¶æ„æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº **Hugo** é™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„åšå®¢/å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œä½¿ç”¨ **Hugo Theme Stack v3** ä¸»é¢˜ã€‚é¡¹ç›®é‡‡ç”¨ Go æ¨¡å—ç®¡ç†ä¸»é¢˜ä¾èµ–ï¼Œæ”¯æŒ Markdown å†…å®¹ç¼–å†™ï¼Œå¯éƒ¨ç½²åˆ° Vercel ç­‰é™æ€ç½‘ç«™æ‰˜ç®¡å¹³å°ã€‚

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **é™æ€ç½‘ç«™ç”Ÿæˆå™¨**: Hugo (Extended ç‰ˆæœ¬)
- **ä¸»é¢˜**: Hugo Theme Stack v3.32.0
- **ä¾èµ–ç®¡ç†**: Go Modules
- **å†…å®¹æ ¼å¼**: Markdown
- **é…ç½®æ ¼å¼**: TOML
- **æ ·å¼å¤„ç†**: SCSS (é€šè¿‡ Hugo Extended æ”¯æŒ)
- **éƒ¨ç½²å¹³å°**: Vercel

### æ¶æ„ç‰¹ç‚¹

1. **æ¨¡å—åŒ–è®¾è®¡**: ä½¿ç”¨ Hugo Modules ç®¡ç†ä¸»é¢˜ï¼Œä¾¿äºæ›´æ–°å’Œç»´æŠ¤
2. **å†…å®¹ä¸æ ·å¼åˆ†ç¦»**: å†…å®¹å­˜å‚¨åœ¨ `content/` ç›®å½•ï¼Œæ ·å¼å’Œèµ„æºåˆ†ç¦»ç®¡ç†
3. **é…ç½®é©±åŠ¨**: é€šè¿‡ TOML é…ç½®æ–‡ä»¶çµæ´»æ§åˆ¶ç½‘ç«™è¡Œä¸º
4. **é™æ€ç”Ÿæˆ**: æ„å»ºæ—¶ç”Ÿæˆé™æ€ HTMLï¼Œæ— éœ€è¿è¡Œæ—¶æœåŠ¡å™¨

## ğŸ“ é¡¹ç›®ç»“æ„

```
hugo-theme-stack-starter/
â”œâ”€â”€ assets/                    # èµ„æºæ–‡ä»¶ï¼ˆç¼–è¯‘å‰ï¼‰
â”‚   â”œâ”€â”€ img/                   # å›¾ç‰‡èµ„æº
â”‚   â”‚   â””â”€â”€ avatar.png         # å¤´åƒ
â”‚   â””â”€â”€ scss/                  # SCSS æ ·å¼æ–‡ä»¶
â”‚       â””â”€â”€ custom.scss        # è‡ªå®šä¹‰æ ·å¼
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ _default/              # é»˜è®¤é…ç½®
â”‚       â”œâ”€â”€ config.toml        # ä¸»é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ module.toml        # æ¨¡å—é…ç½®ï¼ˆä¸»é¢˜å¯¼å…¥ï¼‰
â”‚       â”œâ”€â”€ params.toml        # å‚æ•°é…ç½®ï¼ˆä¸»é¢˜é€‰é¡¹ï¼‰
â”‚       â”œâ”€â”€ menu.toml          # èœå•é…ç½®
â”‚       â”œâ”€â”€ markup.toml        # Markdown æ¸²æŸ“é…ç½®
â”‚       â”œâ”€â”€ permalinks.toml    # æ°¸ä¹…é“¾æ¥é…ç½®
â”‚       â”œâ”€â”€ related.toml       # ç›¸å…³å†…å®¹é…ç½®
â”‚       â””â”€â”€ _languages.toml    # å¤šè¯­è¨€é…ç½®
â”œâ”€â”€ content/                   # å†…å®¹æ–‡ä»¶ï¼ˆMarkdownï¼‰
â”‚   â”œâ”€â”€ _index.md              # é¦–é¡µå†…å®¹
â”‚   â”œâ”€â”€ post/                  # æ–‡ç« ç›®å½•
â”‚   â”‚   â”œâ”€â”€ hello-world/       # æ–‡ç« ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ categories/            # åˆ†ç±»ç›®å½•
â”‚   â””â”€â”€ page/                  # é¡µé¢ç›®å½•
â”‚       â”œâ”€â”€ archives/          # å½’æ¡£é¡µ
â”‚       â”œâ”€â”€ links/             # å‹é“¾é¡µ
â”‚       â””â”€â”€ search/            # æœç´¢é¡µ
â”œâ”€â”€ layouts/                   # è‡ªå®šä¹‰å¸ƒå±€æ¨¡æ¿
â”‚   â””â”€â”€ partials/              # éƒ¨åˆ†æ¨¡æ¿
â”‚       â””â”€â”€ google_analytics.html  # Google Analytics
â”œâ”€â”€ static/                    # é™æ€æ–‡ä»¶ï¼ˆç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºï¼‰
â”‚   â””â”€â”€ favicon.png            # ç½‘ç«™å›¾æ ‡
â”œâ”€â”€ go.mod                     # Go æ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum                     # Go æ¨¡å—æ ¡éªŒå’Œ
â”œâ”€â”€ vercel-build.sh            # Vercel æ„å»ºè„šæœ¬
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

## âš™ï¸ æ ¸å¿ƒé…ç½®è¯´æ˜

### 1. ä¸»é…ç½®æ–‡ä»¶ (`config/_default/config.toml`)

```toml
baseurl = "https://demo.stack.jimmycai.com"  # ç½‘ç«™åŸºç¡€ URL
languageCode = "en-us"                       # è¯­è¨€ä»£ç 
title = "Hugo Theme Stack Starter"            # ç½‘ç«™æ ‡é¢˜
defaultContentLanguage = "en"                 # é»˜è®¤å†…å®¹è¯­è¨€
hasCJKLanguage = false                        # æ˜¯å¦ä½¿ç”¨ CJK è¯­è¨€
disqusShortname = "hugo-theme-stack"          # Disqus è¯„è®ºç³»ç»Ÿ
```

### 2. æ¨¡å—é…ç½® (`config/_default/module.toml`)

é€šè¿‡ Go Modules å¯¼å…¥ä¸»é¢˜ï¼š

```toml
[[imports]]
path = "github.com/CaiJimmy/hugo-theme-stack/v3"
```

### 3. å‚æ•°é…ç½® (`config/_default/params.toml`)

ä¸»è¦åŠŸèƒ½é…ç½®ï¼š

- **å†…å®¹ç®¡ç†**: ä¸»ç« èŠ‚ã€RSS é…ç½®
- **ä¾§è¾¹æ **: å¤´åƒã€å‰¯æ ‡é¢˜ã€è¡¨æƒ…ç¬¦å·
- **æ–‡ç« åŠŸèƒ½**: é˜…è¯»æ—¶é—´ã€æ•°å­¦å…¬å¼ã€è®¸å¯è¯
- **å°éƒ¨ä»¶**: æœç´¢ã€å½’æ¡£ã€åˆ†ç±»ã€æ ‡ç­¾äº‘ã€ç›®å½•
- **è¯„è®ºç³»ç»Ÿ**: æ”¯æŒå¤šç§è¯„è®ºæä¾›å•†ï¼ˆDisqusã€Utterancesã€Giscusã€Waline ç­‰ï¼‰
- **å›¾ç‰‡å¤„ç†**: å°é¢å›¾å’Œå†…å®¹å›¾ç‰‡å¤„ç†
- **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢

## ğŸ”„ æ„å»ºæµç¨‹

### æœ¬åœ°å¼€å‘

1. **ç¯å¢ƒè¦æ±‚**:
   - Git
   - Go 1.17+
   - Hugo Extended ç‰ˆæœ¬

2. **å¼€å‘å‘½ä»¤**:
   ```bash
   # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
   hugo server
   
   # æ„å»ºé™æ€ç½‘ç«™
   hugo --gc --minify
   ```

3. **æ›´æ–°ä¸»é¢˜**:
   ```bash
   hugo mod get -u github.com/CaiJimmy/hugo-theme-stack/v3
   hugo mod tidy
   ```

### Vercel éƒ¨ç½²æµç¨‹

#### æ„å»ºè„šæœ¬ (`vercel-build.sh`)

æ„å»ºè„šæœ¬æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **å®‰è£… Go**: ä¸‹è½½å¹¶å®‰è£… Go 1.22.0ï¼ˆç”¨äºä¸‹è½½ Hugo æ¨¡å—ï¼‰
2. **é…ç½® Go ä»£ç†**: è®¾ç½® GOPROXY ä»¥åŠ é€Ÿæ¨¡å—ä¸‹è½½
3. **æ‹‰å–æ¨¡å—**: æ‰§è¡Œ `hugo mod tidy` ä¸‹è½½ä¸»é¢˜ä¾èµ–
4. **æ„å»ºç½‘ç«™**: æ‰§è¡Œ `hugo --gc --minify` ç”Ÿæˆä¼˜åŒ–çš„é™æ€æ–‡ä»¶

```bash
#!/usr/bin/env bash
set -euo pipefail

# 1) å®‰è£… Goï¼ˆä»…åœ¨æ„å»ºæ—¶ä¸´æ—¶ç”¨æ¥ä¸‹è½½æ¨¡å—ï¼‰
curl -fsSL https://go.dev/dl/go1.22.0.linux-amd64.tar.gz -o /tmp/go.tar.gz
tar -C /vercel -xzf /tmp/go.tar.gz
export GOROOT="/vercel/go"
export PATH="$GOROOT/bin:$PATH"

# 2) å¯é€‰ï¼šè®¾ç½® Go ä»£ç†ï¼ˆè®©ä¸‹è½½æ›´ç¨³å®šï¼‰
export GOPROXY="https://proxy.golang.org,direct"

# 3) æ‹‰å– Hugo æ¨¡å—å¹¶æ„å»º
hugo mod tidy
hugo --gc --minify
```

#### Vercel é…ç½®è¦æ±‚

1. **æ„å»ºå‘½ä»¤**: 
   ```bash
   bash vercel-build.sh
   ```

2. **è¾“å‡ºç›®å½•**: 
   ```
   public
   ```

3. **ç¯å¢ƒå˜é‡**:
   - `HUGO_VERSION`: è®¾ç½® Hugo Extended ç‰ˆæœ¬ï¼ˆå¦‚ `0.123.8`ï¼‰

4. **å®‰è£…å‘½ä»¤**ï¼ˆå¯é€‰ï¼Œå¦‚æœä½¿ç”¨ Node.js 20ï¼‰:
   ```bash
   dnf install -y golang
   ```

## ğŸ¨ ä¸»é¢˜ç‰¹æ€§

### å†…å®¹ç®¡ç†

- **æ–‡ç« ç³»ç»Ÿ**: æ”¯æŒ Markdown æ ¼å¼ï¼Œè‡ªåŠ¨ç”Ÿæˆé˜…è¯»æ—¶é—´
- **åˆ†ç±»å’Œæ ‡ç­¾**: çµæ´»çš„å†…å®¹ç»„ç»‡æ–¹å¼
- **å½’æ¡£åŠŸèƒ½**: æŒ‰æ—¶é—´å½’æ¡£æ–‡ç« 
- **æœç´¢åŠŸèƒ½**: å†…ç½®å…¨æ–‡æœç´¢

### ç”¨æˆ·ä½“éªŒ

- **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§è®¾å¤‡
- **æš—è‰²æ¨¡å¼**: æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **å›¾ç‰‡ä¼˜åŒ–**: è‡ªåŠ¨å¤„ç†å°é¢å›¾å’Œå†…å®¹å›¾ç‰‡
- **é˜…è¯»ä½“éªŒ**: ç›®å½•å¯¼èˆªã€é˜…è¯»è¿›åº¦

### SEO ä¼˜åŒ–

- **Open Graph**: ç¤¾äº¤åª’ä½“åˆ†äº«ä¼˜åŒ–
- **RSS è®¢é˜…**: å®Œæ•´çš„ RSS æ”¯æŒ
- **ç»“æ„åŒ–æ•°æ®**: æœç´¢å¼•æ“å‹å¥½

### è¯„è®ºç³»ç»Ÿ

æ”¯æŒå¤šç§è¯„è®ºæä¾›å•†ï¼š
- Disqus
- Utterances (GitHub Issues)
- Giscus (GitHub Discussions)
- Waline
- Twikoo
- Remark42
- ç­‰ç­‰

## ğŸ“ å†…å®¹ç¼–å†™

### æ–‡ç« ç»“æ„

æ–‡ç« ä½äº `content/post/` ç›®å½•ï¼Œæ¯ä¸ªæ–‡ç« ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š

```
content/post/
â””â”€â”€ hello-world/
    â”œâ”€â”€ index.md      # æ–‡ç« å†…å®¹
    â””â”€â”€ cover.jpg     # å°é¢å›¾ï¼ˆå¯é€‰ï¼‰
```

### Markdown Front Matter ç¤ºä¾‹

```yaml
---
title: "æ–‡ç« æ ‡é¢˜"
date: 2024-01-01
categories: ["åˆ†ç±»"]
tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
draft: false
cover:
  image: "cover.jpg"
---
```

## ğŸš€ éƒ¨ç½²åˆ° Vercel

### æ­¥éª¤ 1: å‡†å¤‡é¡¹ç›®

1. ç¡®ä¿ `vercel-build.sh` æ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œ
2. æ›´æ–° `config/_default/config.toml` ä¸­çš„ `baseurl` ä¸ºä½ çš„åŸŸå

### æ­¥éª¤ 2: è¿æ¥ Vercel

1. åœ¨ Vercel æ§åˆ¶å°å¯¼å…¥ Git ä»“åº“
2. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - **Framework Preset**: Other
   - **Build Command**: `bash vercel-build.sh`
   - **Output Directory**: `public`
   - **Install Command**: ï¼ˆç•™ç©ºæˆ–æ ¹æ®éœ€è¦è®¾ç½®ï¼‰

### æ­¥éª¤ 3: ç¯å¢ƒå˜é‡

åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
- `HUGO_VERSION`: Hugo Extended ç‰ˆæœ¬å·ï¼ˆå¦‚ `0.123.8`ï¼‰

### æ­¥éª¤ 4: éƒ¨ç½²

æ¨é€ä»£ç åˆ° Git ä»“åº“ï¼ŒVercel ä¼šè‡ªåŠ¨è§¦å‘æ„å»ºå’Œéƒ¨ç½²ã€‚

## ğŸ”§ è‡ªå®šä¹‰å¼€å‘

### è‡ªå®šä¹‰æ ·å¼

ç¼–è¾‘ `assets/scss/custom.scss` æ·»åŠ è‡ªå®šä¹‰æ ·å¼ã€‚

### è‡ªå®šä¹‰å¸ƒå±€

åœ¨ `layouts/` ç›®å½•åˆ›å»ºæ¨¡æ¿æ–‡ä»¶è¦†ç›–ä¸»é¢˜é»˜è®¤å¸ƒå±€ã€‚

### æ·»åŠ åŠŸèƒ½

é€šè¿‡ `layouts/partials/` æ·»åŠ è‡ªå®šä¹‰éƒ¨åˆ†æ¨¡æ¿ï¼Œå¦‚ Google Analyticsã€‚

## ğŸ“Š æ¶æ„ä¼˜åŠ¿

1. **æ€§èƒ½ä¼˜ç§€**: é™æ€ç”Ÿæˆï¼Œæ— éœ€è¿è¡Œæ—¶ï¼ŒåŠ è½½é€Ÿåº¦å¿«
2. **SEO å‹å¥½**: é™æ€ HTMLï¼Œæœç´¢å¼•æ“æ˜“äºç´¢å¼•
3. **æ˜“äºç»´æŠ¤**: å†…å®¹ä¸ä»£ç åˆ†ç¦»ï¼ŒMarkdown æ ¼å¼ç®€å•
4. **ç‰ˆæœ¬æ§åˆ¶**: æ‰€æœ‰å†…å®¹å¯çº³å…¥ Git ç®¡ç†
5. **æˆæœ¬ä½å»‰**: é™æ€æ‰˜ç®¡æˆæœ¬ä½ï¼ŒCDN åŠ é€Ÿå…è´¹
6. **å®‰å…¨æ€§é«˜**: æ— æœåŠ¡å™¨ç«¯ä»£ç ï¼Œæ”»å‡»é¢å°

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°ä¸»é¢˜

```bash
hugo mod get -u github.com/CaiJimmy/hugo-theme-stack/v3
hugo mod tidy
```

### æ¸…ç†æ„å»ºç¼“å­˜

```bash
hugo --gc --minify
```

`--gc` å‚æ•°ä¼šæ¸…ç†æœªä½¿ç”¨çš„èµ„æºã€‚

## ğŸ“š ç›¸å…³èµ„æº

- [Hugo å®˜æ–¹æ–‡æ¡£](https://gohugo.io/documentation/)
- [Hugo Theme Stack æ–‡æ¡£](https://stack.jimmycai.com/)
- [Vercel éƒ¨ç½²æ–‡æ¡£](https://vercel.com/docs)
- [Go Modules æ–‡æ¡£](https://go.dev/ref/mod)

## ğŸ¯ æ€»ç»“

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„é™æ€ç½‘ç«™æ¶æ„ï¼Œç»“åˆ Hugo çš„å¼ºå¤§åŠŸèƒ½å’Œ Stack ä¸»é¢˜çš„ä¼˜é›…è®¾è®¡ï¼Œæä¾›äº†ä¸€ä¸ªé«˜æ€§èƒ½ã€æ˜“ç»´æŠ¤çš„å†…å®¹å‘å¸ƒå¹³å°ã€‚é€šè¿‡ Vercel çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¯ä»¥å®ç°ä»£ç æ¨é€å³éƒ¨ç½²çš„ CI/CD æµç¨‹ï¼Œå¤§å¤§ç®€åŒ–äº†ç½‘ç«™çš„ç»´æŠ¤å·¥ä½œã€‚

